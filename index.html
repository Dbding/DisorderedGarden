<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>王不亡 - 失序花園</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- 引入 Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #000000; /* 純黑底色 */
            color: #f0f0f0; /* 淺色文字 */
            overflow-x: hidden;
        }
        /* 將 Canvas 固定在整個頁面背景 */
        #garden-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }
        .track-item {
            border-bottom: 1px solid #555; /* 深色模式下的邊框 */
            transition: background-color 0.3s ease;
        }
        .track-item:hover {
            background-color: rgba(255, 255, 255, 0.05); /* 深色模式 hover */
        }
        /* SVG 動態封面: 破碎的皇冠 */
        .svg-cover-crown .piece {
            transform-origin: 50% 50%;
            animation: shatter 12s ease-in-out infinite;
        }
        @keyframes shatter {
            0%, 100% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
            50% { transform: translate(var(--x), var(--y)) rotate(var(--r)); opacity: 0.7; }
        }
        .svg-cover-crown .piece:nth-child(1) { --x: -8px; --y: -5px; --r: -15deg; animation-delay: -2s; }
        .svg-cover-crown .piece:nth-child(2) { --x: 0px; --y: -8px; --r: 5deg; animation-delay: 0s; }
        .svg-cover-crown .piece:nth-child(3) { --x: 8px; --y: -5px; --r: 15deg; animation-delay: -4s; }
        .svg-cover-crown .piece:nth-child(4) { --x: -5px; --y: 5px; --r: -10deg; animation-delay: -6s; }
        .svg-cover-crown .piece:nth-child(5) { --x: 5px; --y: 5px; --r: 10deg; animation-delay: -8s; }
    </style>
</head>
<body class="antialiased">

    <!-- 回到官網按鈕 -->
    <a href="https://dbding.github.io/WBW-Official/" target="_blank" rel="noopener noreferrer" 
       class="fixed top-4 right-4 z-50 bg-black/50 backdrop-blur-sm border border-orange-500/50 text-orange-300 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-orange-500/20 hover:text-orange-100 transition-colors shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
        </svg>
        <span class="hidden sm:inline">官方網站</span>
    </a>

    <!-- 全螢幕背景動畫容器 -->
    <div id="garden-container"></div>

    <!-- 內容區塊 -->
    <header class="h-screen"></header>

    <main class="max-w-5xl mx-auto p-4 md:p-8 -mt-[90vh] md:-mt-[85vh] relative z-10">
        <!-- 提高半透明度: bg-black/60 backdrop-blur-sm -->
        <div class="bg-black/60 backdrop-blur-sm rounded-xl shadow-2xl shadow-orange-500/10 border border-white/10 p-6 md:p-10">
            <div class="flex flex-col md:flex-row items-center gap-8">
                <!-- SVG 動態封面 -->
                <div class="w-48 h-48 md:w-56 md:h-56 flex-shrink-0">
                   <svg class="svg-cover-crown w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="fireGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#ff8c00; stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#ff4800; stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <g fill="url(#fireGradient)">
                            <polygon class="piece" points="40,30 50,50 30,50" />
                            <polygon class="piece" points="50,20 60,30 40,30" />
                            <polygon class="piece" points="60,30 70,50 50,50" />
                            <path class="piece" d="M25 55 L 45 52 L 48 70 L 30 75 Z" />
                            <path class="piece" d="M75 55 L 55 52 L 52 70 L 70 75 Z" />
                        </g>
                    </svg>
                </div>
                 <div class="text-center md:text-left">
                    <p class="text-xl text-orange-400">第二張專輯</p>
                    <h1 class="text-6xl md:text-8xl font-bold tracking-tight text-gray-100">失序花園</h1>
                    <div class="flex items-center justify-center md:justify-start gap-x-3 mt-2">
                        <h2 class="text-2xl md:text-3xl text-gray-300">Wang Bu-Wang</h2>
                        <!-- 藍勾勾改為橘色系 -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-orange-400" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a.75.75 0 00-1.06-1.06L9 10.94l-1.72-1.72a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.06 0l3.75-3.75z" clip-rule="evenodd" />
                        </svg>
                    </div>
                </div>
            </div>

            <div class="mt-10">
                 <h3 class="text-3xl font-bold text-gray-100 mb-6 border-b-2 border-gray-600 pb-2">曲目列表</h3>
                <div id="track-list" class="space-y-2">
                    <!-- JavaScript 會在這裡動態插入歌曲 -->
                </div>
            </div>
        </div>
        
        <div class="h-48"></div> 
    </main>

    <footer class="text-center py-8">
        <p class="text-gray-500">&copy; 2025 Wang Bu-Wang. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // ... (歌曲列表插入邏輯不變) ...
            const tracks = [
                { title: "草莓醬臨", url: "https://open.spotify.com/embed/track/2vcbaA88s94ptvlT2lrR3i" },
                { title: "龍路大主辦", url: "https://open.spotify.com/embed/track/5IsBZXkN3qpR1r2s6YgBx3" },
                { title: "八九乘法", url: "https://open.spotify.com/embed/track/27GrIhOTB5GOvZzPUpQnPn" },
                { title: "總有一頭不見了", url: "https://open.spotify.com/embed/track/3CY9qrRgDm8bjvWVE9ilMU" },
                { title: "早苗月之星", url: "https://open.spotify.com/embed/track/0hN9kSd5NbY5cqDUI1GWqQ" },
                { title: "王瘋了", url: "https://open.spotify.com/embed/track/4I6hIBCh9bL69RyEqi4sME" },
                { title: "懷裡的風暴", url: "https://open.spotify.com/embed/track/1Jy1yvkDTes1yJBTKLDF4k" },
                { title: "尼卡巴卡", url: "https://open.spotify.com/embed/track/0F7bQ0BAd2EqJhUC3RfXaq" },
                { title: "彎腰者", url: "https://open.spotify.com/embed/track/2TNIPdXisHtUSP7QeTLlLq" },
                { title: "七月五日", url: "https://open.spotify.com/embed/track/5KHrFUaoWa6KNSPnU5Y6oc" },
                { title: "末秒登車", url: "https://open.spotify.com/embed/track/64KO0oE5VtNu9NO07AYeia" },
            ];
            const trackListContainer = document.getElementById('track-list');
            tracks.forEach((track, index) => {
                const trackElement = document.createElement('div');
                trackElement.className = 'track-item p-4 rounded-lg flex flex-col sm:flex-row items-center justify-between gap-4 text-gray-100';
                trackElement.innerHTML = `
                    <div class="flex items-center gap-4 w-full sm:w-auto">
                        <span class="text-gray-400 text-lg w-6 text-center">${index + 1}.</span>
                        <p class="text-lg font-medium">${track.title}</p>
                    </div>
                    <div class="w-full sm:w-auto sm:max-w-xs md:max-w-sm flex-shrink-0">
                         <iframe style="border-radius:12px" src="${track.url}?utm_source=generator&theme=0" 
                            width="100%" height="80" frameBorder="0" allowfullscreen="" 
                            allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
                        </iframe>
                    </div>`;
                trackListContainer.appendChild(trackElement);
            });

            // Three.js 視覺化工具 - 燃燒的王國
            const container = document.getElementById('garden-container');
            if (container) {
                let scene, camera, renderer, clock, embers, ruins = [];
                
                function init() {
                    clock = new THREE.Clock();
                    scene = new THREE.Scene();
                    scene.background = new THREE.Color(0x000000);
                    scene.fog = new THREE.FogExp2(0x992000, 0.015);

                    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                    camera.position.set(0, 10, 50);

                    renderer = new THREE.WebGLRenderer({ antialias: true });
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(window.devicePixelRatio);
                    container.appendChild(renderer.domElement);
                    
                    createEmbers();
                    
                    for(let i=0; i<30; i++) {
                         createRuin();
                    }

                    window.addEventListener('resize', onWindowResize);
                }
                
                function createEmbers() {
                    const emberCount = 20000;
                    const positions = new Float32Array(emberCount * 3);
                    const colors = new Float32Array(emberCount * 3);
                    const fireColors = [new THREE.Color(0xffdd00), new THREE.Color(0xff6600), new THREE.Color(0xffa000)];

                    for (let i = 0; i < emberCount; i++) {
                        positions[i * 3] = (Math.random() - 0.5) * 200;
                        positions[i * 3 + 1] = Math.random() * 100;
                        positions[i * 3 + 2] = (Math.random() - 0.5) * 200;
                        const color = fireColors[Math.floor(Math.random() * 3)];
                        color.toArray(colors, i * 3);
                    }
                    const geometry = new THREE.BufferGeometry();
                    geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                    geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

                    const material = new THREE.PointsMaterial({
                        size: 0.5,
                        vertexColors: true,
                        blending: THREE.AdditiveBlending,
                        transparent: true,
                        opacity: 0.8,
                        depthWrite: false,
                    });
                    embers = new THREE.Points(geometry, material);
                    scene.add(embers);
                }

                function createRuin() {
                    const height = 20 + Math.random() * 30;
                    const geo = new THREE.BoxGeometry(2 + Math.random() * 3, height, 2 + Math.random() * 3);
                    const mat = new THREE.MeshStandardMaterial({
                        color: 0x111111,
                        emissive: 0xff6600,
                        emissiveIntensity: 0, // 初始不發光
                        roughness: 0.8
                    });
                    const ruin = new THREE.Mesh(geo, mat);
                    ruin.position.set(
                        (Math.random() - 0.5) * 200,
                        height / 2,
                        (Math.random() - 0.5) * 200
                    );
                    ruin.rotation.y = Math.random() * Math.PI;
                    ruins.push(ruin);
                    scene.add(ruin);
                }

                function onWindowResize() {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                }

                function animate() {
                    requestAnimationFrame(animate);
                    const delta = clock.getDelta();
                    const time = clock.getElapsedTime();

                    // 餘燼動畫
                    const positions = embers.geometry.attributes.position.array;
                    for (let i = 0; i < positions.length / 3; i++) {
                        positions[i * 3 + 1] += 5 * delta; // 向上飄
                        positions[i * 3] += Math.sin(time + i) * 0.1 * delta * 50; // 左右飄
                        if(positions[i * 3 + 1] > 100) {
                            positions[i * 3 + 1] = -20; // 重置到底部
                        }
                    }
                    embers.geometry.attributes.position.needsUpdate = true;

                    // 廢墟閃爍動畫
                    ruins.forEach(ruin => {
                        ruin.material.emissiveIntensity = (Math.sin(time * 3 + ruin.position.x) * 0.5 + 0.5) * 1.5;
                    });

                    // 相機移動
                    camera.position.z -= delta * 10;
                    camera.position.y = 10 + Math.cos(time * 0.5) * 5;
                    camera.rotation.y = Math.sin(time * 0.2) * 0.1;
                    if(camera.position.z < -100) camera.position.z = 100;

                    renderer.render(scene, camera);
                }
                init();
                animate();
            }
        });
    </script>
</body>
</html>

